<!doctype html>
<html>

<head>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <title>Grow Control  {{version}}</title>
    </head>
    
    <body>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <h1>Grow Control Center {{version}}</h1>

    <div class="container">
        <div class="box">
            <p class="statuslabel">Time</p>
            <p id="time"></p>
        </div>
        <div id="boxtemperature" class="box">
            <p class="statuslabel">Temperature</p>
            <p><span id="temperature"></span>Â°C</p>
        </div>
        <div id="boxhumidity" class="box">
            <p class="statuslabel">Humidity</p>
            <p><span id="humidity"></span>%</p>
        </div>
        <div id="boxwaterlevel", class="box">
            <p class="statuslabel">Water Supply Level</p>
            <p id="waterlevel">?</p>
        </div>
        <div class="box">
            <p class="statuslabel">Fan</p>
            <p id="fan"></p>
        </div>
        <div class="box">
            <p class="statuslabel">Light</p>
            <p id="light_state"></p>
        </div>
        </div>
    </div>
    <br/>

    {% for key in configuration["pump_moisture_dict"] %}
    <div class="pumpcontainer">
            <p class="pumplabel">Pump {{ key }}</p>
            <div class="box" id="boxpump_{{key}}">
            <p>State: <span id="pump_{{key}}">?</span></p>
        </div>        
        <div class="box" id="boxpump_{{key}}">
            <p>Soil moisture: <span id="moisture_{{key}}">?</span></p>
        </div>        
        <div class="column">
            <button id="pumpToggle_{{key}}" class="auto">Auto</button>
        </div>
        <div class="column">
            <button class="off" id="pumpOnOffToggle_{{key}}" disabled>Off</button>
        </div>
    </div>
    {% endfor %}
        
    <div class="controlcontainer">
        <div class="controllabel">Fan</div>
        <div class="column">
            <button id="fan_mode" class="auto">Auto</button>
        </div>
        <div class="column">
            <button class="off" id="fanOnOffToggle" disabled>Off</button>
        </div>
        <div class="controllabel">Exhaust Air Fan</div>
        <div class="column">
            <button class="on" id="fanExhaustAirOnOff">On</button>
        </div>
    </div>
    
    <div class="controlcontainer">
        <div class="controllabel">Light</div>
        <div class="column">
            <button id="light_mode" class="auto">Auto</button>
        </div>
        <div class="controllabel">Light</div>
        <div class="column">
            <button class="off" id="lightToggle" disabled>Off</button>
        </div>
    </div>
    
    <div class="settings">
        <div class="column">
            <a href="settings" class="linkbutton">Settings</a>
        </div>
        <div class="column">
            <a href="log" class="linkbutton">Log data</a>
        </div>
        <div class="column">
            <a href="watchdog" class="linkbutton">View watchdog</a>
        </div>
    </div>
</body>    

</html>